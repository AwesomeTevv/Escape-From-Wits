<head>
    <meta charset="utf-8" />
    <title>Escape from Wits</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Montserrat&family=Open+Sans&family=Roboto&family=Source+Code+Pro&display=swap");

        * {
            color: white;
            font-family: "Source Code Pro", monospace;
            margin: 0px;
            padding: 0px;
        }

        body {
            background: rgba(0, 0, 0, 0.8);
            background-image: url("/assets/images/maze_outline_seamless_pattern_background.jpg");
            background-size: cover;
            background-blend-mode: darken;
            user-select: none;
            overflow: hidden;
            font-family: monospace, Arial, sans-serif;
            font-size: x-large;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .align {
            flex-direction: column;
            display: flex;
            margin: auto;
            position: relative;
            top: 0px;
            opacity: 1;
            transition: 1s ease-out;
            visibility: hidden;

            h1 {
                font-size: 40px;
                padding: 5px;
                transition: 0.5s border ease;
                z-index: 1;
            }

            #start {
                position: 0px;
                text-align: center;
                position: relative;
                top: -50%;
                transition: 1s top ease-out;
            }

            #button-row {
                display: flex;
                justify-content: center; /* Centers the buttons horizontally */
            }
        }

        .container {
            width: 75%;
            height: 75vh; /* Set the height to 75% of the viewport height */
            justify-content: center;
        }
    
        .fade-in {
            opacity: 0;
            animation: fadeIn 2s ease-in-out forwards;
            text-align: center;
            padding-top: 1rem;
        }
    
        .fade-in-end {
            opacity: 0;
            animation: fadeIn 2s ease-in-out forwards;
            text-align: center;
            color: red;
            font-size: xx-large;
            padding-top: 2rem;
        }
    
        @keyframes fadeIn {
            from {
              opacity: 0;
            }
            to {
              opacity: 1;
            }
        }

          /* Define the fade-in animation for the background image */
        @keyframes fadeBackgroundIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        /* Apply the fade-in animation to the body */
        body.fade-in-background {
            animation: fadeBackgroundIn 5s ease-in forwards;
        }

        /* Define the fade-out animation for the container */
        @keyframes fadeOutContainer {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }

        /* Apply the fade-out animation to the container */
        .container.fade-out {
            animation: fadeOutContainer 5s ease-out backwards;
        }

    </style>
</head>

<body>

    <body id="body">
        <div class="align" id="align">
            <h1 id="title">****** **** ****</h1>
            <div class="button-row">
                <a href="/levels/First-Year/First-Year.html">First Year</a>
                <a href="/levels/Second-Year/Second-Year.html">Second Year</a>
                <a href="/levels/Third-Year/Third-Year.html">Third Year</a>
            </div>
        </div>
        <!-- <a href="https://www.freepik.com/free-ai-image/businessman-walking-through-spooky-maze-generated-by-ai_42180481.htm#query=4k%20wallpaper%20maze&position=27&from_view=search&track=ais">Image By vecstock</a> -->
       <div id="container" class="container">
            <p class="fade-in" style="animation-delay: 5s">
                In a world where the past holds the keys to the future, the Labyrinth of
                Ages beckons the intrepid and the bold.
            </p>
            <p class="fade-in" style="animation-delay: 10s">
                Legends speak of these ancient relics, said to contain the knowledge and
                power of civilizations long forgotten. Whoever possesses them can shape
                the destiny of the world.
            </p>
            <p class="fade-in" style="animation-delay: 15s">
                You are the chosen one, entrusted with a mission of utmost importance.
            </p>
            <p class="fade-in" style="animation-delay: 20s">
                Your quest is to scour the depths of the Labyrinth, unravel its secrets,
                and retrieve the artifacts that lie within.
            </p>
            <p class="fade-in" style="animation-delay: 45s">
                But be warned, for the Keepers of the Artifacts are relentless in their
                mission. They will stop at nothing to ensure that these treasures do not
                leave the maze.
            </p>
            <p class="fade-in" style="animation-delay: 55s">
                Kill or be killed, the choice is yours. Retrieve the artifacts, and
                then, with haste, escape the Labyrinth.
            </p>
            <p class="fade-in" style="animation-delay: 65s">
                The fate of the world rests in your hands.
            </p>
            <p class="fade-in fade-in-end" style="animation-delay: 70s">
                <b>The Labyrinth awaits.</b>
            </p>
        </div>
    </body>
<script>
        const paragraphs = document.querySelectorAll(".fade-in");
        let delay = 0;
        // Add a variable to keep track of completed paragraphs
        let completedParagraphs = 0;

        // Function to handle the animation of paragraphs
        function animateParagraphs() {
            const paragraphs = document.querySelectorAll(".fade-in");
            let delay = 0;

            paragraphs.forEach((p, index) => {
                p.style.animationDelay = `${delay}s`;
                delay += 10;

                // Add an animationend event listener to each paragraph
                p.addEventListener("animationend", () => {
                    // Increment the completed count when an animation ends
                    completedParagraphs++;

                    // Check if all paragraphs have completed their animations
                    if (completedParagraphs === paragraphs.length) {
                        setTimeout(function(){
                            // Call hideContainer when all animations are complete
                            console.log("done");
                            document.getElementById("title").style.border = "solid 5px white";
                            hideContainer(); // Hide the container when the animation is complete
                        },2000);
                    }
                });
            });
        }

        // Call the animateParagraphs function to start the animations
        animateParagraphs();

        // Function to hide the container div
        function hideContainer() {
            const container = document.getElementById("container");
            if (container) {
                container.classList.add("fade-out");
                container.addEventListener("animationend", () =>{
                    container.style.display = "none";
                    const body = document.getElementById("body");
                    body.classList.add("fade-in-background");
                    document.getElementById("align").style.visibility = "visible";
                    intro();
                });
            }
        }

        var characters_up = [
            "A",
            "B",
            "C",
            "D",
            "E",
            "F",
            "G",
            "H",
            "I",
            "J",
            "K",
            "L",
            "M",
            "N",
            "O",
            "P",
            "Q",
            "R",
            "S",
            "T",
            "U",
            "V",
            "W",
            "X",
            "Y",
            "Z"
        ];
        var characters_low = [
            "a",
            "b",
            "c",
            "d",
            "e",
            "f",
            "g",
            "h",
            "i",
            "j",
            "k",
            "l",
            "m",
            "n",
            "o",
            "p",
            "q",
            "r",
            "s",
            "t",
            "u",
            "v",
            "w",
            "x",
            "y",
            "z"
        ];
        var title = ["*", "*", "*", "*", "*", "*", " ", "*", "*", "*", "*", " ", "*", "*", "*", "*"];

        var myFuncUpper = function (char_num, num) {
            var i = 0;
            var character0 = 0;
            while (i < char_num) {
                (function (i) {
                    setTimeout(function () {
                        character0 = characters_up[i];
                        title[num] = character0;
                        //console.log(i)
                        update_txt(title);
                    }, 100 * i);
                })(i++);
            }
            return true;
        };

        var myFuncLower = function (char_num, num) {
            var i = 0;
            var character0 = 0;
            while (i < char_num) {
                (function (i) {
                    setTimeout(function () {
                        character0 = characters_low[i];
                        title[num] = character0;
                        //console.log(i)
                        update_txt(title);
                    }, 100 * i);
                })(i++);
            }
            return true;
        };

        var complete = 0;
        function intro() {
            
            complete = 1;
            setTimeout(function () {
                complete = 2;
                console.log("start");
                myFuncUpper(5, 0);
                myFuncLower(19, 1);
                myFuncLower(3, 2);
                myFuncLower(1, 3);
                myFuncLower(16, 4);
                myFuncLower(5, 5);
                //space between
                myFuncUpper(6, 7);
                myFuncLower(18, 8);
                myFuncLower(15, 9);
                myFuncLower(13, 10);
                //space between
                myFuncUpper(23, 12);
                myFuncLower(9, 13);
                myFuncLower(20, 14);
                myFuncLower(19, 15);
            }, 1000);

            setTimeout(function () {
                complete = 3;
                console.log("done");
                document.getElementById("title").style.border = "solid 5px white";

            }, 3400);
        }

        function update_txt(title) {
            var string = "";
            title.forEach((element) => {
                string += element;
            });
            document.getElementById("title").innerHTML = string;
        }

        function start() {
            if (complete == 3) {
                document.getElementById("align").style.top = "40%";
                document.getElementById("align").style.opacity = "0%";

                setTimeout(function () {
                    //put the start location here
                    //location = "";
                }, 1200);
            }
        }
        
</script>

<audio loop autoplay>
    <source src="/assets/sounds/dramatic-flute-for-documentaries-about-quotlife-in-the-junglequot-165986.mp3" type="audio/mpeg">
</audio>

</html>